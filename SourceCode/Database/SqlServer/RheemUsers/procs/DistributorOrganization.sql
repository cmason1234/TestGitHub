/*
'===============================================================================
' Generated by GenerateDataAndObjectLayer Version 1.0.0.0
'
' <auto-generated>
'     This code was generated by a tool.
'
'     Changes to this file may cause incorrect behavior and will be lost if
'     the code is regenerated. 
' </auto-generated>
'===============================================================================

*/
USE [RheemUsers]

/* ------------------------------------------------------------
   Get rid of obsolete InsertDistributorOrganization
   Get rid of obsolete UpdateDistributorOrganization
   Get rid of obsolete DeleteDistributorOrganization
   Get rid of obsolete SearchDistributorOrganizationByString
   Get rid of obsolete GetDistributorOrganizationByID
   ------------------------------------------------------------ */
If EXISTS (Select * FROM SYSOBJECTS WHERE ID = OBJECT_ID('InsertDistributorOrganization') AND OBJECTPROPERTY(ID, 'IsProcedure') = 1)
    BEGIN
        DROP PROCEDURE InsertDistributorOrganization;
        PRINT 'Dropped InsertDistributorOrganization'
    END
GO

If EXISTS (Select * FROM SYSOBJECTS WHERE ID = OBJECT_ID('UpdateDistributorOrganization') AND OBJECTPROPERTY(ID, 'IsProcedure') = 1)
    BEGIN
        DROP PROCEDURE UpdateDistributorOrganization;
        PRINT 'Dropped UpdateDistributorOrganization'
    END
GO

If EXISTS (Select * FROM SYSOBJECTS WHERE ID = OBJECT_ID('DeleteDistributorOrganization') AND OBJECTPROPERTY(ID, 'IsProcedure') = 1)
    BEGIN
        DROP PROCEDURE DeleteDistributorOrganization;
        PRINT 'Dropped DeleteDistributorOrganization'
    END
GO

If EXISTS (Select * FROM SYSOBJECTS WHERE ID = OBJECT_ID('SearchDistributorOrganizationByString') AND OBJECTPROPERTY(ID, 'IsProcedure') = 1)
    BEGIN
        DROP PROCEDURE SearchDistributorOrganizationByString;
        PRINT 'Dropped SearchDistributorOrganizationByString'
    END
GO

If EXISTS (Select * FROM SYSOBJECTS WHERE ID = OBJECT_ID('GetDistributorOrganizationByID') AND OBJECTPROPERTY(ID, 'IsProcedure') = 1)
    BEGIN
        DROP PROCEDURE GetDistributorOrganizationByID;
        PRINT 'Dropped GetDistributorOrganizationByID'
    END
GO

If EXISTS (Select * FROM SYSOBJECTS WHERE ID = OBJECT_ID('spGen__DistributorOrganization_GetByID') AND OBJECTPROPERTY(ID, 'IsProcedure') = 1)
    BEGIN
        DROP PROCEDURE spGen__DistributorOrganization_GetByID;
        PRINT 'Dropped spGen__DistributorOrganization_GetByID'
    END
GO

/* ------------------------------------------------------------
   PROCEDURE:    spGen__DistributorOrganization_GetByID

   Description:  Selects record(s) from table 'DistributorOrganization'

   Generated by GenerateDataAndObjectLayer Version 1.0.0.0
   ------------------------------------------------------------ */

CREATE PROCEDURE dbo.spGen__DistributorOrganization_GetByID
(
    @DistributorOrganizationID uniqueidentifier

)

AS
BEGIN
    SET NOCOUNT ON
    SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED

    DECLARE @Err Int

    Select [DistributorOrganizationID],[OrganizationID],[DistributorID],[DistributorNumber],[MFAccountCode],[Disabled],[ProStockStores],[DSMPersonID],[DTRPersonID],[DPMPersonID],[Corporate],[PrimaryAddressID],[SingleLine],[CountryID],[AC],[ACDisabled],[WHTank],[WHTankDisabled],[WHtankless],[WHTanklessDisabled],[DistributorWHNumber],[Generator],[GeneratorNumber],[GeneratorDisabled],[PoolSpa],[PoolSpaDisabled],[Parts],[PartsDisabled],[ScheduledPay],[WHSolar],[WHSolarDisabled],[WHHeatPump],[WHHeatPumpDisabled],[ManufacturedHousing],[WebSite],[OracleAccountNumber],[OracleCustomerSiteNumberACD],[OracleCustomerSiteNumberRPD],[OracleCustomerSiteNumberWHD],[CreateDateTime__Gen],[UpdateDateTime__Gen],[COOPEligible],[CorporateEmail]
    FROM [DistributorOrganization]
    WHERE [DistributorOrganizationID] = @DistributorOrganizationID

End
GO

-- Display the status of Proc creation
If @@Error = 0 PRINT 'Procedure Creation: spGen__DistributorOrganization_GetByID Succeeded'
Else PRINT 'Procedure Creation: spGen__DistributorOrganization_GetByID Error on Creation'
GO




If EXISTS (Select * FROM SYSOBJECTS WHERE ID = OBJECT_ID('spGen__DistributorOrganization_SearchByString') AND OBJECTPROPERTY(ID, 'IsProcedure') = 1)
    BEGIN
        DROP PROCEDURE spGen__DistributorOrganization_SearchByString;
        PRINT 'Dropped spGen__DistributorOrganization_SearchByString'
    END
GO

/* ------------------------------------------------------------
   PROCEDURE:    spGen__DistributorOrganization_SearchByString

   Description:  Selects a record from table 'DistributorOrganization'
                 And puts values into parameters

   Generated by GenerateDataAndObjectLayer Version 1.0.0.0
   ------------------------------------------------------------ */

CREATE PROCEDURE dbo.spGen__DistributorOrganization_SearchByString
(
    @searchParam varchar(4000)
)

AS
BEGIN
    SET NOCOUNT ON
    SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED

    DECLARE @Err Int
    DECLARE @strSql varchar(4000)

    SET @strSql = ' Select [DistributorOrganizationID],[OrganizationID],[DistributorID],[DistributorNumber],[MFAccountCode],[Disabled],[ProStockStores],[DSMPersonID],[DTRPersonID],[DPMPersonID],[Corporate],[PrimaryAddressID],[SingleLine],[CountryID],[AC],[ACDisabled],[WHTank],[WHTankDisabled],[WHtankless],[WHTanklessDisabled],[DistributorWHNumber],[Generator],[GeneratorNumber],[GeneratorDisabled],[PoolSpa],[PoolSpaDisabled],[Parts],[PartsDisabled],[ScheduledPay],[WHSolar],[WHSolarDisabled],[WHHeatPump],[WHHeatPumpDisabled],[ManufacturedHousing],[WebSite],[OracleAccountNumber],[OracleCustomerSiteNumberACD],[OracleCustomerSiteNumberRPD],[OracleCustomerSiteNumberWHD],[CreateDateTime__Gen],[UpdateDateTime__Gen],[COOPEligible],[CorporateEmail]
    FROM [DistributorOrganization]
    WHERE ' +  @searchParam

    EXEC(@strSql)

    --//We should NOT be using exec above.
    --//If params are NOT known, then be sure to clean sql
    --//If params are known, format like example below

    --IF @prodname IS NOT NULL
    --SELECT @sql = @sql + ' ProductName LIKE @prodname'
    --EXEC sp_executesql @sql, N'@prodname varchar(400)',@prodname

End
GO

-- Display the status of Proc creation
If @@Error = 0 PRINT 'Procedure Creation: spGen__DistributorOrganization_SearchByString Succeeded'
Else PRINT 'Procedure Creation: spGen__DistributorOrganization_SearchByString Error on Creation'
GO




If EXISTS (Select * FROM SYSOBJECTS WHERE ID = OBJECT_ID('spGen__DistributorOrganization_Delete') AND OBJECTPROPERTY(ID, 'IsProcedure') = 1)
    BEGIN
        DROP PROCEDURE spGen__DistributorOrganization_Delete;
        PRINT 'Dropped spGen__DistributorOrganization_Delete'
    END
GO

/* ------------------------------------------------------------
   PROCEDURE:    spGen__DistributorOrganization_Delete

   Description:  Deletes a record from table 'DistributorOrganization'

   Generated by GenerateDataAndObjectLayer Version 1.0.0.0
   ------------------------------------------------------------ */

CREATE PROCEDURE dbo.spGen__DistributorOrganization_Delete
(
    @DistributorOrganizationID uniqueidentifier

)
AS
SET NOCOUNT ON
SET XACT_ABORT ON

BEGIN
    DECLARE @Err Int


    DELETE FROM [DistributorOrganization]
    WHERE [DistributorOrganizationID] = @DistributorOrganizationID


End
GO

-- Display the status of Proc creation
If @@Error = 0 PRINT 'Procedure Creation: spGen__DistributorOrganization_Delete Succeeded'
Else PRINT 'Procedure Creation: spGen__DistributorOrganization_Delete Error on Creation'
GO




If EXISTS (Select * FROM SYSOBJECTS WHERE ID = OBJECT_ID('spGen__DistributorOrganization_Save') AND OBJECTPROPERTY(ID, 'IsProcedure') = 1)
    BEGIN
        DROP PROCEDURE spGen__DistributorOrganization_Save;
        PRINT 'Dropped spGen__DistributorOrganization_Save'
    END
GO

/* ------------------------------------------------------------
   PROCEDURE:    spGen__DistributorOrganization_Save

   Description:  Updates or Deletes a record In table 'DistributorOrganization'

   Generated by GenerateDataAndObjectLayer Version 1.0.0.0
   ------------------------------------------------------------ */

CREATE PROCEDURE dbo.spGen__DistributorOrganization_Save
(
    @ErrText varchar(4000) output,
    @DistributorOrganizationID uniqueidentifier output,
    @OrganizationID uniqueidentifier,
    @DistributorID uniqueidentifier,
    @DistributorNumber varchar(50),
    @MFAccountCode varchar(50),
    @Disabled bit,
    @ProStockStores bit,
    @DSMPersonID uniqueidentifier,
    @DTRPersonID uniqueidentifier,
    @DPMPersonID uniqueidentifier,
    @Corporate bit,
    @PrimaryAddressID uniqueidentifier,
    @SingleLine bit,
    @CountryID uniqueidentifier,
    @AC bit,
    @ACDisabled bit,
    @WHTank bit,
    @WHTankDisabled bit,
    @WHtankless bit,
    @WHTanklessDisabled bit,
    @DistributorWHNumber varchar(50),
    @Generator bit,
    @GeneratorNumber varchar(50),
    @GeneratorDisabled bit,
    @PoolSpa bit,
    @PoolSpaDisabled bit,
    @Parts bit,
    @PartsDisabled bit,
    @ScheduledPay bit,
    @WHSolar bit,
    @WHSolarDisabled bit,
    @WHHeatPump bit,
    @WHHeatPumpDisabled bit,
    @ManufacturedHousing bit,
    @WebSite varchar(512),
    @OracleAccountNumber int,
    @OracleCustomerSiteNumberACD int,
    @OracleCustomerSiteNumberRPD int,
    @OracleCustomerSiteNumberWHD int,
    @COOPEligible bit,
    @CorporateEmail varchar(250)
)

AS
SET NOCOUNT ON
SET XACT_ABORT ON

BEGIN

    DECLARE @UniqueRowCount Int
    IF @DistributorOrganizationID = '00000000-0000-0000-0000-000000000000' SET @DistributorOrganizationID = NULL
    IF @DistributorOrganizationID IS NULL
        BEGIN
            SET @UniqueRowCount = 0       -- No unique indexes exist for this table
            IF @UniqueRowCount > 0
                BEGIN
                    SET @ErrText = ''    -- No unique indexes exist for this table
                END
            ELSE
                BEGIN
                    SET @DistributorOrganizationID = NewID()

                    INSERT
                    INTO [DistributorOrganization]
                    (
                        [DistributorOrganizationID],
                        [OrganizationID],
                        [DistributorID],
                        [DistributorNumber],
                        [MFAccountCode],
                        [Disabled],
                        [ProStockStores],
                        [DSMPersonID],
                        [DTRPersonID],
                        [DPMPersonID],
                        [Corporate],
                        [PrimaryAddressID],
                        [SingleLine],
                        [CountryID],
                        [AC],
                        [ACDisabled],
                        [WHTank],
                        [WHTankDisabled],
                        [WHtankless],
                        [WHTanklessDisabled],
                        [DistributorWHNumber],
                        [Generator],
                        [GeneratorNumber],
                        [GeneratorDisabled],
                        [PoolSpa],
                        [PoolSpaDisabled],
                        [Parts],
                        [PartsDisabled],
                        [ScheduledPay],
                        [WHSolar],
                        [WHSolarDisabled],
                        [WHHeatPump],
                        [WHHeatPumpDisabled],
                        [ManufacturedHousing],
                        [WebSite],
                        [OracleAccountNumber],
                        [OracleCustomerSiteNumberACD],
                        [OracleCustomerSiteNumberRPD],
                        [OracleCustomerSiteNumberWHD],
                        [CreateDateTime__Gen],
                        [UpdateDateTime__Gen],
                        [COOPEligible],
                        [CorporateEmail]
                    )
                    VALUES
                    (
                        @DistributorOrganizationID,
                        @OrganizationID,
                        @DistributorID,
                        @DistributorNumber,
                        @MFAccountCode,
                        @Disabled,
                        @ProStockStores,
                        @DSMPersonID,
                        @DTRPersonID,
                        @DPMPersonID,
                        @Corporate,
                        @PrimaryAddressID,
                        @SingleLine,
                        @CountryID,
                        @AC,
                        @ACDisabled,
                        @WHTank,
                        @WHTankDisabled,
                        @WHtankless,
                        @WHTanklessDisabled,
                        @DistributorWHNumber,
                        @Generator,
                        @GeneratorNumber,
                        @GeneratorDisabled,
                        @PoolSpa,
                        @PoolSpaDisabled,
                        @Parts,
                        @PartsDisabled,
                        @ScheduledPay,
                        @WHSolar,
                        @WHSolarDisabled,
                        @WHHeatPump,
                        @WHHeatPumpDisabled,
                        @ManufacturedHousing,
                        @WebSite,
                        @OracleAccountNumber,
                        @OracleCustomerSiteNumberACD,
                        @OracleCustomerSiteNumberRPD,
                        @OracleCustomerSiteNumberWHD,
                        SYSDATETIME(),
                        SYSDATETIME(),
                        @COOPEligible,
                        @CorporateEmail
                    )
                END
        END
    ELSE
        BEGIN
            SET @UniqueRowCount = 0       -- No unique indexes exist for this table
            IF @UniqueRowCount > 0
                BEGIN
                    SET @ErrText = ''    -- No unique indexes exist for this table
                END
            ELSE
                BEGIN
                    UPDATE [DistributorOrganization]
                    SET
                    [OrganizationID] = @OrganizationID,
                    [DistributorID] = @DistributorID,
                    [DistributorNumber] = @DistributorNumber,
                    [MFAccountCode] = @MFAccountCode,
                    [Disabled] = @Disabled,
                    [ProStockStores] = @ProStockStores,
                    [DSMPersonID] = @DSMPersonID,
                    [DTRPersonID] = @DTRPersonID,
                    [DPMPersonID] = @DPMPersonID,
                    [Corporate] = @Corporate,
                    [PrimaryAddressID] = @PrimaryAddressID,
                    [SingleLine] = @SingleLine,
                    [CountryID] = @CountryID,
                    [AC] = @AC,
                    [ACDisabled] = @ACDisabled,
                    [WHTank] = @WHTank,
                    [WHTankDisabled] = @WHTankDisabled,
                    [WHtankless] = @WHtankless,
                    [WHTanklessDisabled] = @WHTanklessDisabled,
                    [DistributorWHNumber] = @DistributorWHNumber,
                    [Generator] = @Generator,
                    [GeneratorNumber] = @GeneratorNumber,
                    [GeneratorDisabled] = @GeneratorDisabled,
                    [PoolSpa] = @PoolSpa,
                    [PoolSpaDisabled] = @PoolSpaDisabled,
                    [Parts] = @Parts,
                    [PartsDisabled] = @PartsDisabled,
                    [ScheduledPay] = @ScheduledPay,
                    [WHSolar] = @WHSolar,
                    [WHSolarDisabled] = @WHSolarDisabled,
                    [WHHeatPump] = @WHHeatPump,
                    [WHHeatPumpDisabled] = @WHHeatPumpDisabled,
                    [ManufacturedHousing] = @ManufacturedHousing,
                    [WebSite] = @WebSite,
                    [OracleAccountNumber] = @OracleAccountNumber,
                    [OracleCustomerSiteNumberACD] = @OracleCustomerSiteNumberACD,
                    [OracleCustomerSiteNumberRPD] = @OracleCustomerSiteNumberRPD,
                    [OracleCustomerSiteNumberWHD] = @OracleCustomerSiteNumberWHD,
                    [UpdateDateTime__Gen] = SYSDATETIME(),
                    [COOPEligible] = @COOPEligible,
                    [CorporateEmail] = @CorporateEmail
                    WHERE [DistributorOrganizationID] = @DistributorOrganizationID
                END
        END

End
GO

-- Display the status of Proc creation
If @@Error = 0 PRINT 'Procedure Creation: spGen__DistributorOrganization_Save Succeeded'
Else PRINT 'Procedure Creation: spGen__DistributorOrganization_Save Error on Creation'
GO




