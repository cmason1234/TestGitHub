/*
'===============================================================================
' Generated by GenerateDataAndObjectLayer Version 1.0.0.0
'
' <auto-generated>
'     This code was generated by a tool.
'
'     Changes to this file may cause incorrect behavior and will be lost if
'     the code is regenerated. 
' </auto-generated>
'===============================================================================

*/
USE [RheemUsers]

/* ------------------------------------------------------------
   Get rid of obsolete InsertHDQuote
   Get rid of obsolete UpdateHDQuote
   Get rid of obsolete DeleteHDQuote
   Get rid of obsolete SearchHDQuoteByString
   Get rid of obsolete GetHDQuoteByID
   ------------------------------------------------------------ */
If EXISTS (Select * FROM SYSOBJECTS WHERE ID = OBJECT_ID('InsertHDQuote') AND OBJECTPROPERTY(ID, 'IsProcedure') = 1)
    BEGIN
        DROP PROCEDURE InsertHDQuote;
        PRINT 'Dropped InsertHDQuote'
    END
GO

If EXISTS (Select * FROM SYSOBJECTS WHERE ID = OBJECT_ID('UpdateHDQuote') AND OBJECTPROPERTY(ID, 'IsProcedure') = 1)
    BEGIN
        DROP PROCEDURE UpdateHDQuote;
        PRINT 'Dropped UpdateHDQuote'
    END
GO

If EXISTS (Select * FROM SYSOBJECTS WHERE ID = OBJECT_ID('DeleteHDQuote') AND OBJECTPROPERTY(ID, 'IsProcedure') = 1)
    BEGIN
        DROP PROCEDURE DeleteHDQuote;
        PRINT 'Dropped DeleteHDQuote'
    END
GO

If EXISTS (Select * FROM SYSOBJECTS WHERE ID = OBJECT_ID('SearchHDQuoteByString') AND OBJECTPROPERTY(ID, 'IsProcedure') = 1)
    BEGIN
        DROP PROCEDURE SearchHDQuoteByString;
        PRINT 'Dropped SearchHDQuoteByString'
    END
GO

If EXISTS (Select * FROM SYSOBJECTS WHERE ID = OBJECT_ID('GetHDQuoteByID') AND OBJECTPROPERTY(ID, 'IsProcedure') = 1)
    BEGIN
        DROP PROCEDURE GetHDQuoteByID;
        PRINT 'Dropped GetHDQuoteByID'
    END
GO

If EXISTS (Select * FROM SYSOBJECTS WHERE ID = OBJECT_ID('spGen__HDQuote_GetByID') AND OBJECTPROPERTY(ID, 'IsProcedure') = 1)
    BEGIN
        DROP PROCEDURE spGen__HDQuote_GetByID;
        PRINT 'Dropped spGen__HDQuote_GetByID'
    END
GO

/* ------------------------------------------------------------
   PROCEDURE:    spGen__HDQuote_GetByID

   Description:  Selects record(s) from table 'HDQuote'

   Generated by GenerateDataAndObjectLayer Version 1.0.0.0
   ------------------------------------------------------------ */

CREATE PROCEDURE dbo.spGen__HDQuote_GetByID
(
    @HDQuoteID uniqueidentifier

)

AS
BEGIN
    SET NOCOUNT ON
    SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED

    DECLARE @Err Int

    Select [HDQuoteID],[PersonID],[OrganizationID],[InstallProfessional],[InstallLicense],[InstallLicenseExpiration],[InstallerAddress],[InstallerCity],[InstallerState],[InstallerPostalCode],[InstallerPhone],[THDInstallerNumber],[LeadNumber],[StoreNumber],[Brands],[ProposalDate],[CustomerFirst],[CustomerLast],[CustomerAddressID],[CustomerPhoneDay],[CustomerPhoneNight],[CustomerEmail],[ESAProvider],[ESALength],[ESAType],[ESATypeDeductible],[ESACompleteSystem],[ESACondensingUnit],[ESAFurnaceAirHandler],[ESAAccessory],[ESABoiler],[ESAOther],[ESAOtherDesc],[NewAmpService],[NewAmpServiceNote],[RemoveEquipment],[CleanWorkArea],[ThirtyThreePointAudit],[SystemStartup],[Other],[OtherNote],[ManualJPerformed],[SatisfyLoad],[SystemAirflow],[StandardVelocity],[RemainOutdoorUnit],[RemainRefrigerantLines],[RemainFurnace],[RemainCoil],[ComponentsCompatible],[ScopeOfWork],[ProposedStartDate],[ExpectedEndDate],[Status],[SignatureDrawingPoints],[CoSignSignatureDrawingPoints],[EmailConsent],[Initials],[EmailConfirm],[InitialsConsent],[InitialsCancellation],[InitialsTermination],[CreateDateTime__Gen],[UpdateDateTime__Gen]
    FROM [HDQuote]
    WHERE [HDQuoteID] = @HDQuoteID

End
GO

-- Display the status of Proc creation
If @@Error = 0 PRINT 'Procedure Creation: spGen__HDQuote_GetByID Succeeded'
Else PRINT 'Procedure Creation: spGen__HDQuote_GetByID Error on Creation'
GO




If EXISTS (Select * FROM SYSOBJECTS WHERE ID = OBJECT_ID('spGen__HDQuote_SearchByString') AND OBJECTPROPERTY(ID, 'IsProcedure') = 1)
    BEGIN
        DROP PROCEDURE spGen__HDQuote_SearchByString;
        PRINT 'Dropped spGen__HDQuote_SearchByString'
    END
GO

/* ------------------------------------------------------------
   PROCEDURE:    spGen__HDQuote_SearchByString

   Description:  Selects a record from table 'HDQuote'
                 And puts values into parameters

   Generated by GenerateDataAndObjectLayer Version 1.0.0.0
   ------------------------------------------------------------ */

CREATE PROCEDURE dbo.spGen__HDQuote_SearchByString
(
    @searchParam varchar(4000)
)

AS
BEGIN
    SET NOCOUNT ON
    SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED

    DECLARE @Err Int
    DECLARE @strSql varchar(4000)

    SET @strSql = ' Select [HDQuoteID],[PersonID],[OrganizationID],[InstallProfessional],[InstallLicense],[InstallLicenseExpiration],[InstallerAddress],[InstallerCity],[InstallerState],[InstallerPostalCode],[InstallerPhone],[THDInstallerNumber],[LeadNumber],[StoreNumber],[Brands],[ProposalDate],[CustomerFirst],[CustomerLast],[CustomerAddressID],[CustomerPhoneDay],[CustomerPhoneNight],[CustomerEmail],[ESAProvider],[ESALength],[ESAType],[ESATypeDeductible],[ESACompleteSystem],[ESACondensingUnit],[ESAFurnaceAirHandler],[ESAAccessory],[ESABoiler],[ESAOther],[ESAOtherDesc],[NewAmpService],[NewAmpServiceNote],[RemoveEquipment],[CleanWorkArea],[ThirtyThreePointAudit],[SystemStartup],[Other],[OtherNote],[ManualJPerformed],[SatisfyLoad],[SystemAirflow],[StandardVelocity],[RemainOutdoorUnit],[RemainRefrigerantLines],[RemainFurnace],[RemainCoil],[ComponentsCompatible],[ScopeOfWork],[ProposedStartDate],[ExpectedEndDate],[Status],[SignatureDrawingPoints],[CoSignSignatureDrawingPoints],[EmailConsent],[Initials],[EmailConfirm],[InitialsConsent],[InitialsCancellation],[InitialsTermination],[CreateDateTime__Gen],[UpdateDateTime__Gen]
    FROM [HDQuote]
    WHERE ' +  @searchParam

    EXEC(@strSql)

    --//We should NOT be using exec above.
    --//If params are NOT known, then be sure to clean sql
    --//If params are known, format like example below

    --IF @prodname IS NOT NULL
    --SELECT @sql = @sql + ' ProductName LIKE @prodname'
    --EXEC sp_executesql @sql, N'@prodname varchar(400)',@prodname

End
GO

-- Display the status of Proc creation
If @@Error = 0 PRINT 'Procedure Creation: spGen__HDQuote_SearchByString Succeeded'
Else PRINT 'Procedure Creation: spGen__HDQuote_SearchByString Error on Creation'
GO




If EXISTS (Select * FROM SYSOBJECTS WHERE ID = OBJECT_ID('spGen__HDQuote_Delete') AND OBJECTPROPERTY(ID, 'IsProcedure') = 1)
    BEGIN
        DROP PROCEDURE spGen__HDQuote_Delete;
        PRINT 'Dropped spGen__HDQuote_Delete'
    END
GO

/* ------------------------------------------------------------
   PROCEDURE:    spGen__HDQuote_Delete

   Description:  Deletes a record from table 'HDQuote'

   Generated by GenerateDataAndObjectLayer Version 1.0.0.0
   ------------------------------------------------------------ */

CREATE PROCEDURE dbo.spGen__HDQuote_Delete
(
    @HDQuoteID uniqueidentifier

)
AS
SET NOCOUNT ON
SET XACT_ABORT ON

BEGIN
    DECLARE @Err Int


    DELETE FROM [HDQuote]
    WHERE [HDQuoteID] = @HDQuoteID


End
GO

-- Display the status of Proc creation
If @@Error = 0 PRINT 'Procedure Creation: spGen__HDQuote_Delete Succeeded'
Else PRINT 'Procedure Creation: spGen__HDQuote_Delete Error on Creation'
GO




If EXISTS (Select * FROM SYSOBJECTS WHERE ID = OBJECT_ID('spGen__HDQuote_Save') AND OBJECTPROPERTY(ID, 'IsProcedure') = 1)
    BEGIN
        DROP PROCEDURE spGen__HDQuote_Save;
        PRINT 'Dropped spGen__HDQuote_Save'
    END
GO

/* ------------------------------------------------------------
   PROCEDURE:    spGen__HDQuote_Save

   Description:  Updates or Deletes a record In table 'HDQuote'

   Generated by GenerateDataAndObjectLayer Version 1.0.0.0
   ------------------------------------------------------------ */

CREATE PROCEDURE dbo.spGen__HDQuote_Save
(
    @ErrText varchar(4000) output,
    @HDQuoteID uniqueidentifier output,
    @PersonID uniqueidentifier,
    @OrganizationID uniqueidentifier,
    @InstallProfessional varchar(350),
    @InstallLicense varchar(50),
    @InstallLicenseExpiration datetime,
    @InstallerAddress varchar(250),
    @InstallerCity varchar(50),
    @InstallerState varchar(50),
    @InstallerPostalCode varchar(50),
    @InstallerPhone varchar(50),
    @THDInstallerNumber varchar(50),
    @LeadNumber varchar(50),
    @StoreNumber varchar(50),
    @Brands varchar(50),
    @ProposalDate smalldatetime,
    @CustomerFirst nvarchar(50),
    @CustomerLast nvarchar(50),
    @CustomerAddressID uniqueidentifier,
    @CustomerPhoneDay varchar(50),
    @CustomerPhoneNight varchar(50),
    @CustomerEmail varchar(150),
    @ESAProvider varchar(50),
    @ESALength int,
    @ESAType varchar(50),
    @ESATypeDeductible bit,
    @ESACompleteSystem bit,
    @ESACondensingUnit bit,
    @ESAFurnaceAirHandler bit,
    @ESAAccessory bit,
    @ESABoiler bit,
    @ESAOther bit,
    @ESAOtherDesc varchar(50),
    @NewAmpService bit,
    @NewAmpServiceNote varchar(50),
    @RemoveEquipment bit,
    @CleanWorkArea bit,
    @ThirtyThreePointAudit bit,
    @SystemStartup bit,
    @Other bit,
    @OtherNote varchar(50),
    @ManualJPerformed bit,
    @SatisfyLoad bit,
    @SystemAirflow bit,
    @StandardVelocity bit,
    @RemainOutdoorUnit bit,
    @RemainRefrigerantLines bit,
    @RemainFurnace bit,
    @RemainCoil bit,
    @ComponentsCompatible bit,
    @ScopeOfWork ntext,
    @ProposedStartDate smalldatetime,
    @ExpectedEndDate smalldatetime,
    @Status varchar(8),
    @SignatureDrawingPoints text,
    @CoSignSignatureDrawingPoints text,
    @EmailConsent bit,
    @Initials varchar(10),
    @EmailConfirm bit,
    @InitialsConsent text,
    @InitialsCancellation text,
    @InitialsTermination text
)

AS
SET NOCOUNT ON
SET XACT_ABORT ON

BEGIN

    DECLARE @UniqueRowCount Int
    IF @HDQuoteID = '00000000-0000-0000-0000-000000000000' SET @HDQuoteID = NULL
    IF @HDQuoteID IS NULL
        BEGIN
            SET @UniqueRowCount = 0       -- No unique indexes exist for this table
            IF @UniqueRowCount > 0
                BEGIN
                    SET @ErrText = ''    -- No unique indexes exist for this table
                END
            ELSE
                BEGIN
                    SET @HDQuoteID = NewID()

                    INSERT
                    INTO [HDQuote]
                    (
                        [HDQuoteID],
                        [PersonID],
                        [OrganizationID],
                        [InstallProfessional],
                        [InstallLicense],
                        [InstallLicenseExpiration],
                        [InstallerAddress],
                        [InstallerCity],
                        [InstallerState],
                        [InstallerPostalCode],
                        [InstallerPhone],
                        [THDInstallerNumber],
                        [LeadNumber],
                        [StoreNumber],
                        [Brands],
                        [ProposalDate],
                        [CustomerFirst],
                        [CustomerLast],
                        [CustomerAddressID],
                        [CustomerPhoneDay],
                        [CustomerPhoneNight],
                        [CustomerEmail],
                        [ESAProvider],
                        [ESALength],
                        [ESAType],
                        [ESATypeDeductible],
                        [ESACompleteSystem],
                        [ESACondensingUnit],
                        [ESAFurnaceAirHandler],
                        [ESAAccessory],
                        [ESABoiler],
                        [ESAOther],
                        [ESAOtherDesc],
                        [NewAmpService],
                        [NewAmpServiceNote],
                        [RemoveEquipment],
                        [CleanWorkArea],
                        [ThirtyThreePointAudit],
                        [SystemStartup],
                        [Other],
                        [OtherNote],
                        [ManualJPerformed],
                        [SatisfyLoad],
                        [SystemAirflow],
                        [StandardVelocity],
                        [RemainOutdoorUnit],
                        [RemainRefrigerantLines],
                        [RemainFurnace],
                        [RemainCoil],
                        [ComponentsCompatible],
                        [ScopeOfWork],
                        [ProposedStartDate],
                        [ExpectedEndDate],
                        [Status],
                        [SignatureDrawingPoints],
                        [CoSignSignatureDrawingPoints],
                        [EmailConsent],
                        [Initials],
                        [EmailConfirm],
                        [InitialsConsent],
                        [InitialsCancellation],
                        [InitialsTermination],
                        [CreateDateTime__Gen],
                        [UpdateDateTime__Gen]
                    )
                    VALUES
                    (
                        @HDQuoteID,
                        @PersonID,
                        @OrganizationID,
                        @InstallProfessional,
                        @InstallLicense,
                        @InstallLicenseExpiration,
                        @InstallerAddress,
                        @InstallerCity,
                        @InstallerState,
                        @InstallerPostalCode,
                        @InstallerPhone,
                        @THDInstallerNumber,
                        @LeadNumber,
                        @StoreNumber,
                        @Brands,
                        @ProposalDate,
                        @CustomerFirst,
                        @CustomerLast,
                        @CustomerAddressID,
                        @CustomerPhoneDay,
                        @CustomerPhoneNight,
                        @CustomerEmail,
                        @ESAProvider,
                        @ESALength,
                        @ESAType,
                        @ESATypeDeductible,
                        @ESACompleteSystem,
                        @ESACondensingUnit,
                        @ESAFurnaceAirHandler,
                        @ESAAccessory,
                        @ESABoiler,
                        @ESAOther,
                        @ESAOtherDesc,
                        @NewAmpService,
                        @NewAmpServiceNote,
                        @RemoveEquipment,
                        @CleanWorkArea,
                        @ThirtyThreePointAudit,
                        @SystemStartup,
                        @Other,
                        @OtherNote,
                        @ManualJPerformed,
                        @SatisfyLoad,
                        @SystemAirflow,
                        @StandardVelocity,
                        @RemainOutdoorUnit,
                        @RemainRefrigerantLines,
                        @RemainFurnace,
                        @RemainCoil,
                        @ComponentsCompatible,
                        @ScopeOfWork,
                        @ProposedStartDate,
                        @ExpectedEndDate,
                        @Status,
                        @SignatureDrawingPoints,
                        @CoSignSignatureDrawingPoints,
                        @EmailConsent,
                        @Initials,
                        @EmailConfirm,
                        @InitialsConsent,
                        @InitialsCancellation,
                        @InitialsTermination,
                        SYSDATETIME(),
                        SYSDATETIME()
                    )
                END
        END
    ELSE
        BEGIN
            SET @UniqueRowCount = 0       -- No unique indexes exist for this table
            IF @UniqueRowCount > 0
                BEGIN
                    SET @ErrText = ''    -- No unique indexes exist for this table
                END
            ELSE
                BEGIN
                    UPDATE [HDQuote]
                    SET
                    [PersonID] = @PersonID,
                    [OrganizationID] = @OrganizationID,
                    [InstallProfessional] = @InstallProfessional,
                    [InstallLicense] = @InstallLicense,
                    [InstallLicenseExpiration] = @InstallLicenseExpiration,
                    [InstallerAddress] = @InstallerAddress,
                    [InstallerCity] = @InstallerCity,
                    [InstallerState] = @InstallerState,
                    [InstallerPostalCode] = @InstallerPostalCode,
                    [InstallerPhone] = @InstallerPhone,
                    [THDInstallerNumber] = @THDInstallerNumber,
                    [LeadNumber] = @LeadNumber,
                    [StoreNumber] = @StoreNumber,
                    [Brands] = @Brands,
                    [ProposalDate] = @ProposalDate,
                    [CustomerFirst] = @CustomerFirst,
                    [CustomerLast] = @CustomerLast,
                    [CustomerAddressID] = @CustomerAddressID,
                    [CustomerPhoneDay] = @CustomerPhoneDay,
                    [CustomerPhoneNight] = @CustomerPhoneNight,
                    [CustomerEmail] = @CustomerEmail,
                    [ESAProvider] = @ESAProvider,
                    [ESALength] = @ESALength,
                    [ESAType] = @ESAType,
                    [ESATypeDeductible] = @ESATypeDeductible,
                    [ESACompleteSystem] = @ESACompleteSystem,
                    [ESACondensingUnit] = @ESACondensingUnit,
                    [ESAFurnaceAirHandler] = @ESAFurnaceAirHandler,
                    [ESAAccessory] = @ESAAccessory,
                    [ESABoiler] = @ESABoiler,
                    [ESAOther] = @ESAOther,
                    [ESAOtherDesc] = @ESAOtherDesc,
                    [NewAmpService] = @NewAmpService,
                    [NewAmpServiceNote] = @NewAmpServiceNote,
                    [RemoveEquipment] = @RemoveEquipment,
                    [CleanWorkArea] = @CleanWorkArea,
                    [ThirtyThreePointAudit] = @ThirtyThreePointAudit,
                    [SystemStartup] = @SystemStartup,
                    [Other] = @Other,
                    [OtherNote] = @OtherNote,
                    [ManualJPerformed] = @ManualJPerformed,
                    [SatisfyLoad] = @SatisfyLoad,
                    [SystemAirflow] = @SystemAirflow,
                    [StandardVelocity] = @StandardVelocity,
                    [RemainOutdoorUnit] = @RemainOutdoorUnit,
                    [RemainRefrigerantLines] = @RemainRefrigerantLines,
                    [RemainFurnace] = @RemainFurnace,
                    [RemainCoil] = @RemainCoil,
                    [ComponentsCompatible] = @ComponentsCompatible,
                    [ScopeOfWork] = @ScopeOfWork,
                    [ProposedStartDate] = @ProposedStartDate,
                    [ExpectedEndDate] = @ExpectedEndDate,
                    [Status] = @Status,
                    [SignatureDrawingPoints] = @SignatureDrawingPoints,
                    [CoSignSignatureDrawingPoints] = @CoSignSignatureDrawingPoints,
                    [EmailConsent] = @EmailConsent,
                    [Initials] = @Initials,
                    [EmailConfirm] = @EmailConfirm,
                    [InitialsConsent] = @InitialsConsent,
                    [InitialsCancellation] = @InitialsCancellation,
                    [InitialsTermination] = @InitialsTermination,
                    [UpdateDateTime__Gen] = SYSDATETIME()
                    WHERE [HDQuoteID] = @HDQuoteID
                END
        END

End
GO

-- Display the status of Proc creation
If @@Error = 0 PRINT 'Procedure Creation: spGen__HDQuote_Save Succeeded'
Else PRINT 'Procedure Creation: spGen__HDQuote_Save Error on Creation'
GO




